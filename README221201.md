# LOOT AT ME!

> date: 22.12.01 <br>
> author: timothy-20 <br>
> subject: windows mfc programming 이해를 위한 학습 내용.

[//]: # (### new와 delete keyword를 이용한 동적 메모리 할당)

### [Windows Message](https://learn.microsoft.com/ko-kr/windows/win32/winmsg/about-messages-and-message-queues)

---

Windows 기반 어플리케이션은 **이벤트 기반** 입니다. 
입력을 얻을 때 함수를 호출하는 것이 아닌 함수를 통해 입력이 전달될 때까지 기다립니다.
시스템은 앱의 다양한 창에 메시지를 전달합니다. 창은 연결된 [**window prosedures**](https://learn.microsoft.com/en-us/windows/win32/winmsg/window-procedures)(_procedure_: 처리, 절차, 방법, etc) 
함수를 통해 입력을 수신합니다. 만일 최상위 창이 몇 초 이상 메시지에 대한 응답이 없을 경우, 시스템은 창의 시각적 틍성과 동일한 **ghost window**로 전환합니다.

메시지는 시스템과 앱 모두에서 생성됩니다. 사용자가 외부 입력(마우스, 키보드 등의 장치 입력)을 수행할 때, 각 입력 이벤트에서는 메시지를 생성합니다.

메시지는 [**시스템 정의 메시지**](https://learn.microsoft.com/ko-kr/windows/win32/winmsg/about-messages-and-message-queues#system-defined-messages)와 [**애플리케이션 정의 메시지**](https://learn.microsoft.com/ko-kr/windows/win32/winmsg/about-messages-and-message-queues#application-defined-messages)가 있습니다.



### [Message Map이란?](https://learn.microsoft.com/en-us/cpp/mfc/reference/message-maps-mfc?view=msvc-170)

---



### [Message Map Macros(MFC)](https://learn.microsoft.com/ko-kr/cpp/mfc/reference/message-map-macros-mfc?view=msvc-170)

---

메시지 맵을 지원하기 위한 mfc의 매크로입니다.<br>
아래는 visual studio 기본 mfc 앱 프로젝트의 메시지 맵 정의입니다.

``` c++
BEGIN_MESSAGE_MAP('view 클래스명', CView)
	// 표준 인쇄 명령입니다.
	ON_COMMAND(ID_FILE_PRINT, &CView::OnFilePrint)
	ON_COMMAND(ID_FILE_PRINT_DIRECT, &CView::OnFilePrint)
	ON_COMMAND(ID_FILE_PRINT_PREVIEW, &CTKMFCApplication221130View::OnFilePrintPreview)
	ON_WM_CONTEXTMENU()
	ON_WM_RBUTTONUP()
	ON_WM_CREATE() // OnCreate와 같은 메시지 핸들러 함수들을 
END_MESSAGE_MAP()
```

주의 깊게 볼 것은 __ON_WM_CREATE()__ 함수입니다.

